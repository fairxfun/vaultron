[package]
name = "enclave_protos"
version = "0.1.0"
edition = "2021"

[features]
default = ["proto_full"]
# @@protoc_deletion_point(features)
# This section is automatically generated by protoc-gen-prost-crate.
# Changes in this area may be lost on regeneration.
proto_full = ["vaultron-agent-v1","vaultron-common-v1","vaultron-enclave-attestation-v1","vaultron-enclave-cluster-v1","vaultron-enclave-common-v1","vaultron-enclave-internal-v1","vaultron-enclave-v1","vaultron-service-v1","vaultron-test-v1"]
"vaultron-agent-v1" = ["vaultron-common-v1","vaultron-enclave-v1"]
"vaultron-common-v1" = []
"vaultron-enclave-attestation-v1" = []
"vaultron-enclave-cluster-v1" = []
"vaultron-enclave-common-v1" = []
"vaultron-enclave-internal-v1" = ["vaultron-enclave-common-v1"]
"vaultron-enclave-v1" = ["vaultron-common-v1","vaultron-enclave-cluster-v1","vaultron-enclave-internal-v1"]
"vaultron-service-v1" = []
"vaultron-test-v1" = []
# @@protoc_insertion_point(features)
"grpc-server" = ["tonic"]
"grpc-client" = ["tonic"]
"validate" = ["validator"]

[dependencies]
anyhow = {version = "1.0.97"}
aws-nitro-enclaves-nsm-api = { git = "https://github.com/aws/aws-nitro-enclaves-nsm-api.git", rev = "8ec7eac", features = ["nix"] }
enclave_protos_macros = { version = "0.1.0", path = "../enclave_protos_macros" }
http = { version = "0.2.9" }
prost = { version = "0.11.9" }
pbjson = { version = "0.5.1" }
pbjson-types = { version = "0.5.1" }
serde = { version = "1.0.219", features = ["derive"] }
serde_json = { version = "1.0.140" }
thiserror = { version = "2.0.12" }
tonic = { version = "0.9.2", optional = true, features = ["tls", "tls-roots"] }
typed-builder = { version = "0.20.0" }
idna = {version = "1.0.3", optional = true}
validator = {version = "0.20.0", optional = true}

[dev-dependencies]
enclave_protos = { version = "*", path = ".", features = ["proto_full", "grpc-server", "grpc-client", "validate"] }
rcgen = { version = "0.11.1" }
tempfile = { version = "3.7.1" }
tokio = { version = "1.44.0", features = ["macros", "rt", "test-util"] }